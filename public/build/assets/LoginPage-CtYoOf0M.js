import{m as N,d as S,f as _,e as V,j as z,a as C,c as K}from"./index-Cft2Nqec.js";import{d as E,l as g,k as L,aH as P,c as $,e as a,w as e,u as j,b as i,i as q,D as p,a as m,n,t as f,o as c}from"./app-C1nWRGf0.js";/* empty css            */const D={class:"flex justify-center items-center bg-surface-50 dark:bg-surface-800 min-h-screen p-4"},F={class:"flex flex-col gap-4"},T={class:"flex"},A=E({__name:"LoginPage",setup(U){const o=g(""),u=g(!1),w=L(),y=P({login:"",password:""}),h=N(S().shape({login:_().required("Login bo'sh bo'lmasligi kerak."),password:_().required("Parol bo'sh bo'lmasligi kerak.")}));function v(){o.value=""}async function k(d){if(d.valid){const t=d.values;u.value=!0;try{await w.login(t)}catch(r){const s=r;o.value=s.response?.data?.message??s.message??"Noma'lum xatolik yuz berdi"}finally{u.value=!1}}}return(d,t)=>{const r=C,s=K,x=q,b=z,B=V;return c(),$("div",D,[a(B,{"initial-values":y,resolver:j(h),onSubmit:k,autocomplete:"off"},{default:e(l=>[a(b,{class:"w-96 max-w-md"},{title:e(()=>[...t[0]||(t[0]=[n(" Kirish ",-1)])]),content:e(()=>[i("div",F,[i("aside",null,[a(r,{onKeydown:v,name:"login",type:"text",placeholder:"Login",fluid:"",autocomplete:"new-login"}),l.login?.invalid?(c(),p(s,{key:0,severity:"error",size:"small",variant:"simple"},{default:e(()=>[n(f(l.login.error?.message),1)]),_:2},1024)):m("",!0)]),i("aside",null,[a(r,{onKeydown:v,name:"password",type:"password",placeholder:"Parol",autocomplete:"new-password",fluid:""}),l.password?.invalid?(c(),p(s,{key:0,severity:"error",size:"small",variant:"simple"},{default:e(()=>[n(f(l.password.error?.message),1)]),_:2},1024)):m("",!0)]),o.value.length?(c(),p(s,{key:0,severity:"error",size:"small",variant:"simple"},{default:e(()=>[n(f(o.value),1)]),_:1})):m("",!0)])]),footer:e(()=>[i("div",T,[a(x,{loading:u.value,type:"submit",label:"Kirish",class:"w-full"},null,8,["loading"])])]),_:2},1024)]),_:1},8,["initial-values","resolver"])])}}});export{A as default};
