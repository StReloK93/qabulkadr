import{m as B,b as N,d as _,s as S,a as V}from"./index-CRb8ESbB.js";import{s as C}from"./index-su6AJTKB.js";import{d as K,k as g,x as L,L as E,c as P,b as a,w as e,u as $,a as i,s as q,G as m,H as p,y as n,z as f,o as c}from"./app-22CsOHYg.js";import{b as F}from"./index-B34dr1lM.js";/* empty css            */const T={class:"flex justify-center items-center bg-surface-50 dark:bg-surface-800 min-h-screen p-4"},U={class:"flex flex-col gap-4"},j={class:"flex"},J=K({__name:"LoginPage",setup(D){const o=g(""),u=g(!1),y=L(),w=E({login:"",password:""}),b=B(N().shape({login:_().required("Login bo'sh bo'lmasligi kerak."),password:_().required("Parol bo'sh bo'lmasligi kerak.")}));function v(){o.value=""}async function x(d){if(d.valid){const t=d.values;u.value=!0;try{await y.login(t)}catch(r){const s=r;o.value=s.response?.data?.message??s.message??"Noma'lum xatolik yuz berdi"}finally{u.value=!1}}}return(d,t)=>{const r=F,s=V,h=q,k=C,z=S;return c(),P("div",T,[a(z,{"initial-values":w,resolver:$(b),onSubmit:x,autocomplete:"off"},{default:e(l=>[a(k,{class:"w-96 max-w-md"},{title:e(()=>[...t[0]||(t[0]=[n(" Kirish ",-1)])]),content:e(()=>[i("div",U,[i("aside",null,[a(r,{onKeydown:v,name:"login",type:"text",placeholder:"Login",fluid:"",autocomplete:"new-login"}),l.login?.invalid?(c(),m(s,{key:0,severity:"error",size:"small",variant:"simple"},{default:e(()=>[n(f(l.login.error?.message),1)]),_:2},1024)):p("",!0)]),i("aside",null,[a(r,{onKeydown:v,name:"password",type:"password",placeholder:"Parol",autocomplete:"new-password",fluid:""}),l.password?.invalid?(c(),m(s,{key:0,severity:"error",size:"small",variant:"simple"},{default:e(()=>[n(f(l.password.error?.message),1)]),_:2},1024)):p("",!0)]),o.value.length?(c(),m(s,{key:0,severity:"error",size:"small",variant:"simple"},{default:e(()=>[n(f(o.value),1)]),_:1})):p("",!0)])]),footer:e(()=>[i("div",j,[a(h,{loading:u.value,type:"submit",label:"Kirish",class:"w-full"},null,8,["loading"])])]),_:2},1024)]),_:1},8,["initial-values","resolver"])])}}});export{J as default};
