import{m as B,b as N,d as _,s as S,a as V}from"./index-rnCFoCci.js";import{s as C}from"./index-FgSLuNMC.js";import{d as K,m as g,u as L,L as E,c as P,b as a,w as e,f as $,a as i,s as q,I as m,e as p,z as n,A as f,o as c}from"./app-C5S5tGL8.js";import{b as F}from"./index-BG9POhof.js";/* empty css            */const I={class:"flex justify-center items-center bg-surface-50 dark:bg-surface-800 min-h-screen p-4"},T={class:"flex flex-col gap-4"},U={class:"flex"},J=K({__name:"LoginPage",setup(j){const o=g(""),u=g(!1),w=L(),y=E({login:"",password:""}),b=B(N().shape({login:_().required("Login bo'sh bo'lmasligi kerak."),password:_().required("Parol bo'sh bo'lmasligi kerak.")}));function v(){o.value=""}async function h(d){if(d.valid){const t=d.values;u.value=!0;try{await w.login(t)}catch(r){const s=r;o.value=s.response?.data?.message??s.message??"Noma'lum xatolik yuz berdi"}finally{u.value=!1}}}return(d,t)=>{const r=F,s=V,x=q,k=C,z=S;return c(),P("div",I,[a(z,{"initial-values":y,resolver:$(b),onSubmit:h,autocomplete:"off"},{default:e(l=>[a(k,{class:"w-96 max-w-md"},{title:e(()=>[...t[0]||(t[0]=[n(" Kirish ",-1)])]),content:e(()=>[i("div",T,[i("aside",null,[a(r,{onKeydown:v,name:"login",type:"text",placeholder:"Login",fluid:"",autocomplete:"new-login"}),l.login?.invalid?(c(),m(s,{key:0,severity:"error",size:"small",variant:"simple"},{default:e(()=>[n(f(l.login.error?.message),1)]),_:2},1024)):p("",!0)]),i("aside",null,[a(r,{onKeydown:v,name:"password",type:"password",placeholder:"Parol",autocomplete:"new-password",fluid:""}),l.password?.invalid?(c(),m(s,{key:0,severity:"error",size:"small",variant:"simple"},{default:e(()=>[n(f(l.password.error?.message),1)]),_:2},1024)):p("",!0)]),o.value.length?(c(),m(s,{key:0,severity:"error",size:"small",variant:"simple"},{default:e(()=>[n(f(o.value),1)]),_:1})):p("",!0)])]),footer:e(()=>[i("div",U,[a(x,{loading:u.value,type:"submit",label:"Kirish",class:"w-full"},null,8,["loading"])])]),_:2},1024)]),_:1},8,["initial-values","resolver"])])}}});export{J as default};
